<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard Propietario | TaxiConfianza</title>
  <style>
    :root{
      --bg:#0b1220; --surface:#0f172a; --card:#111c33; --text:#e5e7eb;
      --muted:#9ca3af; --border:rgba(255,255,255,.08);
      --shadow: 0 10px 25px rgba(0,0,0,.35);
      --brand:#fbbf24; --ok:#22c55e; --warn:#f59e0b; --danger:#ef4444;
      --radius:16px; --radius2:12px; --max:1200px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:var(--font);
      background: radial-gradient(1100px 600px at 15% 0%, rgba(251,191,36,.12), transparent 60%),
                  radial-gradient(900px 500px at 90% 15%, rgba(34,197,94,.10), transparent 55%),
                  var(--bg);
      color:var(--text);
    }
    .wrap{display:flex; min-height:100vh;}
    a{color:inherit; text-decoration:none}

    /* Sidebar */
    .sidebar{
      width:280px; background: linear-gradient(180deg, rgba(17,28,51,.9), rgba(15,23,42,.7));
      border-right:1px solid var(--border); padding:18px 14px;
      position:sticky; top:0; height:100vh; overflow:auto;
    }
    .brand{ display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:14px; background: rgba(255,255,255,.03); border:1px solid var(--border); }
    .logo{ width:38px; height:38px; border-radius:12px; display:grid; place-items:center; background: rgba(251,191,36,.18); color: var(--brand); font-weight:900; }
    .brand h1{font-size:14px; margin:0; line-height:1.1}
    .brand p{margin:0; font-size:12px; color:var(--muted)}
    
    .nav{margin-top:16px; display:flex; flex-direction:column; gap:6px;}
    .nav a{ display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:12px; border:1px solid transparent; }
    .nav a:hover{background:rgba(255,255,255,.04); border-color:var(--border);}
    .nav a.active{ background: rgba(251,191,36,.12); border-color: rgba(251,191,36,.35); }
    
    .ico{width:18px;height:18px;opacity:.9}
    .sep{height:1px;background:var(--border); margin:14px 6px;}
    
    .btn{ display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:10px 12px; border-radius: 12px; border:1px solid var(--border); background: rgba(255,255,255,.04); cursor:pointer; font-size:13px; }
    .btn.primary{border-color: rgba(251,191,36,.35); background: rgba(251,191,36,.14);}
    .btn.danger{border-color: rgba(239,68,68,.35); background: rgba(239,68,68,.12);}

    /* Main Content */
    .main{flex:1; padding:18px 18px 40px;}
    .topbar{ max-width: var(--max); margin:0 auto 16px; display:flex; align-items:center; justify-content:space-between; gap:14px; padding:14px; border:1px solid var(--border); border-radius: var(--radius); background: rgba(255,255,255,.03); backdrop-filter: blur(10px); }
    
    .grid{ max-width: var(--max); margin:0 auto; display:grid; grid-template-columns: 1fr; gap:14px; }
    @media(min-width: 980px){ .grid{grid-template-columns: 1fr 1fr;} .span-2{grid-column: 1 / -1;} }
    
    .card{ border:1px solid var(--border); background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01)); border-radius: var(--radius); box-shadow: var(--shadow); padding:18px; }
    .kpis{ display:grid; grid-template-columns: repeat(2, 1fr); gap:10px; margin-top:10px; }
    .kpi{ background: rgba(0,0,0,.18); border:1px solid var(--border); border-radius: 14px; padding:12px; }
    .kpi .v{font-size:22px;font-weight:900;margin:2px 0 4px;}
    
    .table{ width:100%; border-collapse:separate; border-spacing:0; border-radius: 14px; border:1px solid var(--border); margin-top:10px; overflow:hidden; }
    .table th{ text-align:left; color:var(--muted); font-size:12px; padding:12px; background: rgba(0,0,0,.18); }
    .table td{ padding:12px; border-bottom:1px solid var(--border); font-size:13px; }
    
    .chip{ padding:4px 10px; border-radius:999px; border:1px solid var(--border); background: rgba(0,0,0,.16); font-size:11px; color:var(--muted); }
    .chip.ok{border-color: rgba(34,197,94,.35); background: rgba(34,197,94,.10); color:#bbf7d0;}
    .chip.warn{border-color: rgba(245,158,11,.35); background: rgba(245,158,11,.10); color:#fcd34d;}

    .overlay{display:none; position:fixed; inset:0; background: rgba(0,0,0,.55); z-index:40;}
    .sidebar.open{left:0 !important;}
  </style>
</head>
<body>
  <div class="wrap">
    <aside class="sidebar" id="sidebar">
      <div class="brand">
        <div class="logo">TC</div>
        <div>
          <h1>TaxiConfianza</h1>
          <p>Panel Propietario</p>
        </div>
      </div>

      <nav class="nav">
        <a class="active" href="#"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M4 10.5L12 4l8 6.5V20a1.5 1.5 0 0 1-1.5 1.5H5.5A1.5 1.5 0 0 1 4 20v-9.5Z" stroke-width="1.6"/></svg> Dashboard</a>
        <a href="#"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M4 7h16M4 12h10M4 17h16" stroke-width="1.6" stroke-linecap="round"/></svg> Mis ofertas</a>
        <a href="#"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M7 8h10M7 12h6M7 16h10" stroke-width="1.6" stroke-linecap="round"/><path d="M5 4h14a2 2 0 0 1 2 2v14l-4-2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Z" stroke-width="1.6"/></svg> Postulaciones</a>
        <a href="#"><svg class="ico" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 6v6l4 2" stroke-width="1.6" stroke-linecap="round"/><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9Z" stroke-width="1.6"/></svg> Trabajo actual</a>
        <div class="sep"></div>
        <a href="#">Veh铆culos</a>
        <a href="#">Documentos</a>
        <a href="#">Calificaciones</a>
      </nav>

      <div style="margin-top:20px; padding:12px; border-radius: var(--radius2); border:1px solid var(--border); background: rgba(255,255,255,.03);">
        <div class="muted" style="font-size:11px; margin-bottom:10px;">Sesi贸n iniciada como:</div>
        <div style="font-size:13px; font-weight:bold; margin-bottom:10px;" id="sidebar-user-name">Usuario</div>
        <button class="btn danger" style="width:100%" onclick="cerrarSesion()">Cerrar Sesi贸n</button>
      </div>
    </aside>

    <div class="overlay" id="overlay"></div>

    <main class="main">
      <header class="topbar">
        <div>
          <h2 class="title">Hola, <span id="owner-name-display">Cargando...</span> </h2>
          <p class="subtitle">Bienvenido a tu gesti贸n de flota y confianza.</p>
        </div>
        <div class="top-actions">
          <button class="btn primary">+ Publicar oferta</button>
        </div>
      </header>

      <section class="grid">
        <article class="card">
          <h3>Estado general</h3>
          <div class="kpis">
            <div class="kpi"><p class="l">Ofertas</p><div class="v">2</div></div>
            <div class="kpi"><p class="l">Postulaciones</p><div class="v">7</div></div>
            <div class="kpi"><p class="l">Activos</p><div class="v">1</div></div>
            <div class="kpi"><p class="l">Alertas</p><div class="v" style="color:var(--warn)">1</div></div>
          </div>
        </article>

        <article class="card">
          <h3>Alertas de documentaci贸n</h3>
          <div style="background:rgba(245,158,11,.1); border:1px solid rgba(245,158,11,.3); padding:12px; border-radius:12px; margin-top:10px;">
            <strong style="font-size:13px; color:#fcd34d;">SOAT Veh铆culo ABC123</strong>
            <p class="muted" style="margin:5px 0;">Vence en 5 d铆as (2026-01-20).</p>
            <button class="btn primary" style="margin-top:8px; width:100%">Renovar Ahora</button>
          </div>
        </article>

        <article class="card span-2">
          <h3>Postulaciones recientes</h3>
          <table class="table">
            <thead>
              <tr><th>Conductor</th><th>Oferta</th><th>Estado</th><th style="text-align:right">Acci贸n</th></tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Juan P茅rez</strong><br><small class="muted">3 a帽os exp.</small></td>
                <td>Turno Noche</td>
                <td><span class="chip warn">Pendiente</span></td>
                <td style="text-align:right"><button class="btn primary">Aceptar</button></td>
              </tr>
            </tbody>
          </table>
        </article>
      </section>
    </main>
  </div>

  <script>
    // L贸gica para Usuario Din谩mico
    document.addEventListener('DOMContentLoaded', () => {
      const user = JSON.parse(localStorage.getItem('userTaxiConfianza'));

      if (user && user.nombres) {
        // Actualizar nombres en la UI
        document.getElementById('owner-name-display').innerText = user.nombres;
        document.getElementById('sidebar-user-name').innerText = user.nombres;
      } else {
        // Si no hay sesi贸n, redirigir al login
        window.location.href = 'index.html';
      }
    });

    // Funci贸n de Cierre de Sesi贸n
    function cerrarSesion() {
      localStorage.removeItem('userTaxiConfianza');
      window.location.href = 'index.html';
    }

    // Men煤 M贸vil (Opcional si necesitas interactividad)
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');
    function toggleMenu() {
      sidebar.classList.toggle('open');
      overlay.classList.toggle('show');
    }
  </script>
</body>
</html>
