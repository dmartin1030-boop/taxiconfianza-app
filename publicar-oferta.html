<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Publicar oferta | Taxi Confianza</title>

  <!-- ✅ Usa TU css actual (ajusta el href si tu ruta es distinta) -->
  <link rel="stylesheet" href="styles.css" />
<link rel="stylesheet" href="css/dashboard-theme.css" />
</head>

<body>
  <div class="layout">

    <!-- SIDEBAR (mismo patrón que ya tienes) -->
    <aside class="sidebar">
      <nav class="nav" aria-label="Navegación del propietario">

        <a class="active" href="/dashboard-propietario.html" aria-current="page">
          <svg class="ico" viewBox="0 0 24 24" fill="none">
            <path d="M4 10.5L12 4l8 6.5V20a1.5 1.5 0 0 1-1.5 1.5H5.5A1.5 1.5 0 0 1 4 20v-9.5Z"
              stroke="currentColor" stroke-width="1.6"/>
          </svg>
          Dashboard
        </a>

        <!-- ✅ CTA con icono + (ya consistente con los demás) -->
        <a href="/publicar-oferta.html" class="nav-cta">
          <svg class="ico" viewBox="0 0 24 24" fill="none">
            <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
          Publicar oferta
        </a>

        <a href="/mis-ofertas.html">
          <svg class="ico" viewBox="0 0 24 24" fill="none">
            <path d="M4 7h16M4 12h16M4 17h10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
          Mis ofertas
        </a>

        <a href="/postulaciones-propietario.html">
          <svg class="ico" viewBox="0 0 24 24" fill="none">
            <path d="M7 8h10M7 12h10M7 16h6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
            <path d="M5 4h14v16H5z" stroke="currentColor" stroke-width="1.6"/>
          </svg>
          Postulaciones
        </a>

        <a href="/trabajo-actual.html">
          <svg class="ico" viewBox="0 0 24 24" fill="none">
            <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
            <path d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" stroke="currentColor" stroke-width="1.6"/>
          </svg>
          Trabajo actual
        </a>

        <a href="/historial-trabajos.html">
          <svg class="ico" viewBox="0 0 24 24" fill="none">
            <path d="M7 4h10v4H7z" stroke="currentColor" stroke-width="1.6"/>
            <path d="M6 8h12v12H6z" stroke="currentColor" stroke-width="1.6"/>
            <path d="M8 12h8M8 16h6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
          Historial de trabajos
        </a>

      </nav>
    </aside>

    <!-- MAIN -->
    <main class="main">

      <header class="page-header">
        <h1>Publicar oferta</h1>
        <p class="muted">Crea una oferta de trabajo usando los campos reales de tu base de datos.</p>
      </header>

      <!-- FORM CARD -->
      <section class="card">
        <div class="card-head">
          <h2>Nueva oferta</h2>
          <p class="muted">Los campos se guardan en <b>ofertas_trabajo</b>.</p>
        </div>

        <form id="formOferta" class="form-grid">
          <!-- vehiculo_id (FK) -->
          <div class="field">
            <label for="vehiculo_id">Vehículo</label>
            <select id="vehiculo_id" name="vehiculo_id" required>
              <option value="">Cargando vehículos…</option>
            </select>
            <small class="muted">Se guarda como <b>vehiculo_id</b>.</small>
          </div>

          <!-- ciudad -->
          <div class="field">
            <label for="ciudad">Ciudad</label>
            <input id="ciudad" name="ciudad" type="text" placeholder="Ej: Bogotá" required />
          </div>

          <!-- turno enum('dia','noche','mixto') -->
          <div class="field">
            <label for="turno">Turno</label>
            <select id="turno" name="turno">
              <option value="dia">Día</option>
              <option value="noche">Noche</option>
              <option value="mixto">Mixto</option>
            </select>
          </div>

          <!-- estado (si quieres permitir elegirlo al publicar) -->
          <div class="field">
            <label for="estado">Estado</label>
            <select id="estado" name="estado">
              <option value="activa" selected>Activa</option>
              <option value="pausada">Pausada</option>
              <option value="cerrada">Cerrada</option>
            </select>
            <small class="muted">En BD es <b>estado</b> (default: activa).</small>
          </div>

          <!-- titulo -->
          <div class="field field-full">
            <label for="titulo">Título</label>
            <input id="titulo" name="titulo" type="text" placeholder="Ej: Taxi turno noche con pago diario" required />
          </div>

          <!-- descripcion -->
          <div class="field field-full">
            <label for="descripcion">Descripción</label>
            <textarea id="descripcion" name="descripcion" rows="4" placeholder="Describe condiciones, horarios, zonas, etc."></textarea>
          </div>

          <!-- pago: cuota_diaria / porcentaje_propietario -->
          <div class="field">
            <label for="cuota_diaria">Cuota diaria ($)</label>
            <input id="cuota_diaria" name="cuota_diaria" type="number" min="0" step="1" placeholder="Ej: 70000" />
            <small class="muted">En BD es <b>cuota_diaria</b>.</small>
          </div>

          <div class="field">
            <label for="porcentaje_propietario">% para propietario</label>
            <input id="porcentaje_propietario" name="porcentaje_propietario" type="number" min="0" step="0.01" placeholder="Ej: 30.00" />
            <small class="muted">En BD es <b>porcentaje_propietario</b>.</small>
          </div>

          <div class="field field-full">
            <small id="pagoHint" class="muted">
              Debes llenar <b>cuota diaria</b> o <b>% propietario</b> (al menos uno).
            </small>
          </div>

          <!-- requisitos -->
          <div class="field field-full">
            <label for="requisitos">Requisitos</label>
            <textarea id="requisitos" name="requisitos" rows="3" placeholder="Ej: licencia vigente, sin comparendos, experiencia 1 año."></textarea>
          </div>

          <div class="actions">
            <button type="submit" class="btn-primary" id="btnPublicar">
              Publicar oferta
            </button>
            <button type="button" class="btn-ghost" id="btnLimpiar">
              Limpiar
            </button>
          </div>
        </form>
      </section>

      <!-- MIS OFERTAS -->
      <section class="card">
        <div class="card-head row-between">
          <div>
            <h2>Mis ofertas</h2>
            <p class="muted">Gestiona estado, pausa/cierra o elimina (soft delete).</p>
          </div>
          <button class="btn-ghost" id="btnRefrescar">Refrescar</button>
        </div>

        <div class="table-wrap">
          <table class="table" id="tablaOfertas">
            <thead>
              <tr>
                <th>ID</th>
                <th>Título</th>
                <th>Ciudad</th>
                <th>Turno</th>
                <th>Pago</th>
                <th>Estado</th>
                <th>Bloqueada</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr><td colspan="8" class="muted">Cargando…</td></tr>
            </tbody>
          </table>
        </div>
      </section>

    </main>
